default_language_version:
  python: python3.10

repos:
  - repo: local
    hooks:
      - id: black
        name: black
        entry: black
        language: python
        types_or: [pyi, python]
      - id: dmypy
        name: dmypy
        entry: dmypy
        language: python
        types_or: [pyi, python]
        require_serial: true
        args:
          - run
      - id: ruff
        name: ruff
        entry: ruff
        language: python
        types: [python]
        args:
          - --fix
          - --exit-non-zero-on-fix
          # catch commented-out code - here because we don't want in for normal dev
          - --extend-select=ERA001
          - --unfixable=ERA001
      - id: vulture
        name: vulture
        entry: vulture
        language: python
        types: [python]
        pass_filenames: false
        args:
          - .
      - id: whitelist
        name: whitelist
        entry: make
        language: python
        types: [python]
        pass_filenames: false
        args:
          - whitelist
      - id: yamlfix
        name: yamlfix
        entry: yamlfix
        language: python
        types: [yaml]
      - id: yamllint
        name: yamllint
        entry: yamllint
        language: python
        types: [yaml]
  - repo: meta
    hooks:
      - id: check-hooks-apply
